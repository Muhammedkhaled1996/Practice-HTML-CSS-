<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NutriPlan - Food, Nutrition & Fitness Planner</title>
    <link rel="icon" href="./src/images/favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./src/css/index.css" />
    <link rel="stylesheet" href="./src/css/style.css" />
  </head>

  <body class="bg-gray-50 font-sans">
    <!-- Loading Overlay -->
    <div
      id="app-loading-overlay"
      class="loading fixed inset-0 bg-white z-[100] flex items-center justify-center transition-opacity duration-500"
    >
      <div class="text-center">
        <div class="relative w-20 h-20 mx-auto mb-6">
          <div
            class="absolute inset-0 rounded-xl bg-linear-to-br from-emerald-400 to-teal-600 animate-pulse"
          ></div>
          <div class="absolute inset-0 flex items-center justify-center">
            <i class="fa-solid fa-leaf text-white text-3xl animate-bounce"></i>
          </div>
        </div>
        <h2 class="text-2xl font-bold text-gray-900 mb-2">NutriPlan</h2>
        <p class="text-gray-500 mb-4">Loading your wellness journey...</p>
        <div class="flex items-center justify-center gap-1">
          <div
            class="w-2 h-2 bg-emerald-500 rounded-full animate-bounce"
            style="animation-delay: 0ms"
          ></div>
          <div
            class="w-2 h-2 bg-emerald-500 rounded-full animate-bounce"
            style="animation-delay: 150ms"
          ></div>
          <div
            class="w-2 h-2 bg-emerald-500 rounded-full animate-bounce"
            style="animation-delay: 300ms"
          ></div>
        </div>
      </div>
    </div>

    <!-- Sidebar Overlay -->
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <div
      id="sidebar"
      class="fixed left-0 top-0 h-full w-72 bg-white border-r border-gray-200 flex flex-col z-40"
    >
      <div class="p-6 border-b border-gray-100">
        <div class="flex items-center gap-3">
          <div
            class="w-10 h-10 rounded-xl bg-linear-to-br from-emerald-400 to-teal-600 flex items-center justify-center"
          >
            <i class="fa-solid fa-leaf text-white text-lg"></i>
          </div>
          <div>
            <h1 class="text-xl font-bold text-gray-900">NutriPlan</h1>
            <p class="text-xs text-gray-500">Your Wellness Journey</p>
          </div>
          <button id="sidebar-close-btn" aria-label="Close menu">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
      </div>

      <nav class="flex-1 px-4 py-6 overflow-y-auto">
        <div class="mb-6">
          <p
            class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3 px-3"
          >
            Main Menu
          </p>
          <ul class="space-y-1">
            <li id="home">
              <a data-route="home-section"
                class="nav-link flex items-center gap-3 px-3 py-2.5 bg-emerald-50 text-emerald-700 rounded-lg transition-all"
                href="#"
              >
                <i class="fa-solid fa-utensils w-5"></i>
                <span class="font-semibold">Meals & Recipes</span>
              </a>
            </li>
            <li id="products">
              <a data-route="products-section"
                class="nav-link flex items-center gap-3 px-3 py-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-all"
                href="#"
              >
                <i class="fa-solid fa-barcode w-5"></i>
                <span class="font-medium">Product Scanner</span>
              </a>
            </li>
            <li id="foodlog">
              <a data-route="foodlog-section"
                class="nav-link flex items-center gap-3 px-3 py-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-all"
                href="#"
              >
                <i class="fa-solid fa-clipboard-list w-5"></i>
                <span class="font-medium">Food Log</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <div class="p-4 border-t border-gray-200">
        <div class="flex items-center gap-3 px-3">
          <img
            src="./src/images/AOP-5.jpg"
            alt="User"
            class="w-10 h-10 rounded-full object-cover"
          />
          <div class="flex-1">
            <p class="font-semibold text-gray-900 text-sm">Muhammed Khaled</p>
            <p class="text-xs text-gray-500">Premium Member</p>
          </div>
          <i class="fa-solid fa-chevron-down text-gray-400 text-sm"></i>
        </div>
      </div>
    </div>

    <div id="main-content" class="ml-72">
      <!-- ============= Home SECTION ============= -->
      <header
        id="header"
        class="bg-white border-b border-gray-200 sticky top-0 z-30"
      >
        <div class="px-8 py-4">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-4 flex-1">
              <button id="header-menu-btn" aria-label="Toggle menu">
                <i class="fa-solid fa-bars"></i>
              </button>
              <div>
                <h1 class="text-2xl font-bold text-gray-900 headingName">
                  Meals & Recipes
                </h1>
                <p class="text-sm text-gray-500 mt-1">
                  Discover delicious and nutritious recipes tailored for you
                </p>
              </div>
            </div>
          </div>
        </div>
      </header>

      <section id="home-section" data-section="home">
        <section
          id="search-filters-section"
          class="px-8 py-6 bg-white border-b border-gray-200"
        >
          <div class="mx-auto">
            <div class="mb-6">
              <div class="relative w-full">
                <i
                  class="fa-solid fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"
                ></i>
                <input
                  id="search-input"
                  type="text"
                  placeholder="Search recipes by name, ingredient, or cuisine..."
                  class="w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all text-sm"
                />
              </div>
            </div>

            <div
              id="buttonArea"
              class="flex items-center gap-3 overflow-x-auto pb-2"
            >
              <!-- Add Areas From JS -->
            </div>
          </div>
        </section>

        <section id="meal-categories-section" class="px-8 py-6 bg-white">
          <div>
            <div class="flex items-center justify-between mb-4">
              <div>
                <h2 class="text-xl font-bold text-gray-900">
                  Browse by Meal Type
                </h2>
                <p class="text-xs text-gray-500 mt-0.5">
                  Find the perfect recipe for any time of day
                </p>
              </div>
              <button
                class="text-emerald-600 font-medium text-sm hover:text-emerald-700 flex items-center gap-1"
              >
                View All <i class="fa-solid fa-chevron-right text-xs"></i>
              </button>
            </div>

            <div id="categories-grid" class="grid grid-cols-6 gap-3">
              <!-- Categories will be loaded here by JavaScript -->
            </div>
          </div>
        </section>

        <section id="all-recipes-section" class="px-8 py-8 bg-gray-50">
          <div>
            <div class="flex items-center justify-between mb-6">
              <div>
                <h2 class="text-2xl font-bold text-gray-900">All Recipes</h2>
                <p id="recipes-count" class="text-sm text-gray-600 mt-1">
                  Showing <span>25</span> recipes
                </p>
              </div>
              <div class="flex items-center gap-3">
                <div class="flex bg-gray-200 rounded-lg p-1" id="view-toggle">
                  <button
                    id="grid-view-btn"
                    class="px-3 py-1.5 bg-white rounded-md shadow-sm"
                    title="Grid View"
                  >
                    <i class="fa-solid fa-table-cells text-gray-700"></i>
                  </button>
                  <button
                    id="list-view-btn"
                    class="px-3 py-1.5"
                    title="List View"
                  >
                    <i class="fa-solid fa-list text-gray-500"></i>
                  </button>
                </div>
              </div>
            </div>

            <div id="recipes-grid" class="grid grid-cols-4 gap-5">
              <!-- recipes-grid From JS -->
            </div>

            <div
              id="recipes-list"
              class="grid grid-cols-2 gap-4"
              style="display: none"
            >
              <!-- Add recipes-List From JS -->
            </div>
          </div>
        </section>
      </section>
      <!-- ============= Meal Details SECTION ============= -->
      <section id="meal-details"
        class="px-8 py-8 bg-gray-50"
        style="display: none"
      >
        <!-- Loading Overlay -->
        <div
          id="app-loading-overlay-Meal-details"
          class="loading fixed inset-0 bg-white z-[100] flex items-center justify-center transition-opacity duration-500"
        >
          <div class="text-center">
            <div class="relative w-20 h-20 mx-auto mb-6">
              <div
                class="absolute inset-0 rounded-xl bg-linear-to-br from-emerald-400 to-teal-600 animate-pulse"
              ></div>
              <div class="absolute inset-0 flex items-center justify-center">
                <i
                  class="fa-solid fa-leaf text-white text-3xl animate-bounce"
                ></i>
              </div>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">NutriPlan</h2>
            <p class="text-gray-500 mb-4">Loading your wellness journey...</p>
            <div class="flex items-center justify-center gap-1">
              <div
                class="w-2 h-2 bg-emerald-500 rounded-full animate-bounce"
                style="animation-delay: 0ms"
              ></div>
              <div
                class="w-2 h-2 bg-emerald-500 rounded-full animate-bounce"
                style="animation-delay: 150ms"
              ></div>
              <div
                class="w-2 h-2 bg-emerald-500 rounded-full animate-bounce"
                style="animation-delay: 300ms"
              ></div>
            </div>
          </div>
        </div>
        <div class="max-w-7xl mx-auto">
          <!-- Back Button -->
          <button
            id="back-to-meals-btn"
            class="flex items-center gap-2 text-gray-600 hover:text-emerald-600 font-medium mb-6 transition-colors"
          >
            <i class="fa-solid fa-arrow-left"></i>
            <span>Back to Recipes</span>
          </button>

          <!-- Hero Section -->
          <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-8">
            <div class="relative h-80 md:h-96">
              <img
                src="https://www.themealdb.com/images/media/meals/ustsqw1468250014.jpg"
                alt="Teriyaki Chicken Casserole"
                class="w-full h-full object-cover thumbnail"
              />
              <div
                class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"
              ></div>
              <div class="absolute bottom-0 left-0 right-0 p-8">
                <div class="flex items-center gap-3 mb-3">
                  <span
                    class="px-3 py-1 bg-emerald-500 text-white text-sm font-semibold rounded-full category"
                    >Chicken</span
                  >
                  <span
                    class="px-3 py-1 bg-blue-500 text-white text-sm font-semibold rounded-full area"
                    >Japanese</span
                  >
                </div>
                <h1 class="text-3xl md:text-4xl font-bold text-white mb-2 name">
                  Teriyaki Chicken Casserole
                </h1>
                <div class="flex items-center gap-6 text-white/90">
                  <span class="flex items-center gap-2">
                    <i class="fa-solid fa-clock"></i>
                    <span><span class="prepareTime">30</span> min</span>
                  </span>
                  <span class="flex items-center gap-2">
                    <i class="fa-solid fa-utensils"></i>
                    <span id="hero-servings"><span>4</span> servings</span>
                  </span>
                  <span class="flex items-center gap-2">
                    <i class="fa-solid fa-fire"></i>
                    <span id="hero-calories"><span>485</span> cal/serving</span>
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="flex flex-wrap gap-3 mb-8">
            <button
              id="log-meal-btn"
              class="flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-all"
              data-meal-id="52772"
            >
              <i class="fa-solid fa-clipboard-list"></i>
              <span>Log This Meal</span>
            </button>
          </div>

          <!-- Main Content Grid -->
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column - Ingredients & Instructions -->
            <div class="lg:col-span-2 space-y-8">
              <!-- Ingredients -->
              <div class="bg-white rounded-2xl shadow-lg p-6">
                <h2
                  class="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2"
                >
                  <i class="fa-solid fa-list-check text-emerald-600"></i>
                  Ingredients
                  <span class="text-sm font-normal text-gray-500 ml-auto"
                    ><span class="IngredientsCount">9</span> items</span
                  >
                </h2>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-3"
                  id="IngredientsItems"
                >
                  <!-- Loop Ingredients to get all of them -->
                  <div
                    class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-emerald-50 transition-colors"
                  >
                    <input
                      type="checkbox"
                      class="ingredient-checkbox w-5 h-5 text-emerald-600 rounded border-gray-300"
                    />
                    <span class="text-gray-700">
                      <span class="font-medium text-gray-900">3/4 cup</span>
                      soy sauce
                    </span>
                  </div>
                </div>
              </div>

              <!-- Instructions -->
              <div class="bg-white rounded-2xl shadow-lg p-6">
                <h2
                  class="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2"
                >
                  <i class="fa-solid fa-shoe-prints text-emerald-600"></i>
                  Instructions
                </h2>
                <div class="space-y-4" id="InstructionsItems">
                  <!-- Loop Instructions to get all of them -->
                  <div
                    class="flex gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors"
                  >
                    <div
                      class="w-10 h-10 rounded-full bg-emerald-600 text-white flex items-center justify-center font-bold shrink-0"
                    >
                      1
                    </div>
                    <p class="text-gray-700 leading-relaxed pt-2">
                      Preheat oven to 350Â° F. Spray a 9x13-inch baking pan with
                      non-stick spray.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Video Section -->
              <div class="bg-white rounded-2xl shadow-lg p-6">
                <h2
                  class="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2"
                >
                  <i class="fa-solid fa-video text-red-500"></i>
                  Video Tutorial
                </h2>
                <div
                  class="relative aspect-video rounded-xl overflow-hidden bg-gray-100"
                >
                  <iframe
                    id="VideoView"
                    src="https://www.youtube.com/embed/4aZr5hZXP_s"
                    class="absolute inset-0 w-full h-full"
                    frameborder="0"
                    allow="
                      accelerometer;
                      autoplay;
                      clipboard-write;
                      encrypted-media;
                      gyroscope;
                      picture-in-picture;
                    "
                    allowfullscreen
                  >
                  </iframe>
                </div>
              </div>
            </div>

            <!-- Right Column - Nutrition -->
            <div class="space-y-6">
              <!-- Nutrition Facts -->
              <div class="bg-white rounded-2xl shadow-lg p-6 sticky top-24">
                <h2
                  class="text-xl font-bold text-gray-900 mb-4 flex items-center gap-2"
                >
                  <i class="fa-solid fa-chart-pie text-emerald-600"></i>
                  Nutrition Facts
                </h2>
                <div id="nutrition-facts-container">
                  <p class="text-sm text-gray-500 mb-4">Per serving</p>

                  <div
                    class="text-center py-4 mb-4 bg-linear-to-br from-emerald-50 to-teal-50 rounded-xl"
                  >
                    <p class="text-sm text-gray-600">Calories per serving</p>
                    <p
                      class="text-4xl font-bold text-emerald-600"
                      id="CaloriesPerServing"
                    >
                      485
                    </p>
                    <p class="text-xs text-gray-500 mt-1" id="totalCalories">
                      Total: 1940 cal
                    </p>
                  </div>

                  <div class="space-y-4">
                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-emerald-500"></div>
                        <span class="text-gray-700">Protein</span>
                      </div>
                      <span class="font-bold text-gray-900"
                        ><span id="Protein">42</span>g</span
                      >
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                      <div
                        class="bg-emerald-500 h-2 rounded-full ProteinProgressBar"
                        style="width: 84%"
                      ></div>
                    </div>

                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                        <span class="text-gray-700">Carbs</span>
                      </div>
                      <span class="font-bold text-gray-900"
                        ><span id="Carbs">52</span>g</span
                      >
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                      <div
                        class="bg-blue-500 h-2 rounded-full CarbsProgressBar"
                        style="width: 17%"
                      ></div>
                    </div>

                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-purple-500"></div>
                        <span class="text-gray-700">Fat</span>
                      </div>
                      <span class="font-bold text-gray-900"
                        ><span id="Fat">8</span>g</span
                      >
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                      <div
                        class="bg-purple-500 h-2 rounded-full FatProgressBar"
                        style="width: 12%"
                      ></div>
                    </div>

                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-orange-500"></div>
                        <span class="text-gray-700">Fiber</span>
                      </div>
                      <span class="font-bold text-gray-900"
                        ><span id="Fiber">4</span>g</span
                      >
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                      <div
                        class="bg-orange-500 h-2 rounded-full FiberProgressBar"
                        style="width: 14%"
                      ></div>
                    </div>

                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-pink-500"></div>
                        <span class="text-gray-700">Sugar</span>
                      </div>
                      <span class="font-bold text-gray-900"
                        ><span id="Sugar">12</span>g</span
                      >
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                      <div
                        class="bg-pink-500 h-2 rounded-full SugarProgressBar"
                        style="width: 24%"
                      ></div>
                    </div>
                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <span class="text-gray-700">Saturated Fat</span>
                      </div>
                      <span class="font-bold text-gray-900"
                        ><span id="saturatedFat">1</span>g</span
                      >
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2">
                      <div
                        class="bg-red-500 h-2 rounded-full saturatedFatProgressBar"
                        style="width: 5%"
                      ></div>
                    </div>
                  </div>

                  <div class="mt-6 pt-6 border-t border-gray-100">
                    <h3 class="text-sm font-semibold text-gray-900 mb-3">
                      Other
                    </h3>
                    <div class="grid grid-cols-2 gap-3 text-sm">
                      <div class="flex justify-between">
                        <span class="text-gray-600">Cholesterol</span>
                        <span class="font-medium"
                          ><span id="cholesterol">189</span>mg</span
                        >
                      </div>
                      <div class="flex justify-between">
                        <span class="text-gray-600">Sodium</span>
                        <span class="font-medium"
                          ><span id="sodium">643</span>mg</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
                <div class="bg-white rounded-2xl shadow-lg p-6">
                  <h3 class="text-sm font-semibold text-gray-900 mb-2">
                    Recipe Source
                  </h3>
                  <a
                    id="originalRecipe"
                    href="https://www.bbcgoodfood.com/recipes/sticky-chicken"
                    target="_blank"
                    class="text-emerald-600 hover:text-emerald-700 text-sm flex items-center gap-2"
                  >
                    <i data-fa-i2svg=""
                      ><svg
                        class="svg-inline--fa fa-arrow-up-right-from-square"
                        data-prefix="fas"
                        data-icon="arrow-up-right-from-square"
                        role="img"
                        viewBox="0 0 512 512"
                        aria-hidden="true"
                        data-fa-i2svg=""
                      >
                        <path
                          fill="currentColor"
                          d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0-201.4 201.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3 448 192c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 96C35.8 96 0 131.8 0 176L0 432c0 44.2 35.8 80 80 80l256 0c44.2 0 80-35.8 80-80l0-80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 80c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l80 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 96z"
                        ></path></svg
                    ></i>
                    View Original Recipe
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============= PRODUCT SCANNER SECTION ============= -->
      <section id="products-section"
        class="px-8 py-8 bg-gray-50 min-h-screen"
        data-section="products"
      >
        <div class="max-w-7xl mx-auto">
          <!-- Search Header -->
          <div
            class="bg-linear-to-r from-emerald-600 to-teal-600 rounded-2xl p-6 mb-6 text-white"
          >
            <h2 class="text-2xl font-bold mb-2">
              <i class="fa-solid fa-barcode mr-2"></i>
              Product Search & Barcode Scanner
            </h2>
            <p class="opacity-90 mb-4">
              Search for packaged food products to view nutrition information
            </p>

            <div class="flex gap-3">
              <div class="flex-1 relative">
                <input
                  type="text"
                  id="product-search-input"
                  placeholder="Search by product name (e.g., Cheerios, Nutella, Coca-Cola...)"
                  class="w-full px-5 py-3.5 pr-12 bg-white/90 backdrop-blur-sm text-gray-900 rounded-xl placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white/50"
                />
                <i
                  class="fa-solid fa-search absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                ></i>
              </div>
              <button
                id="search-product-btn"
                class="px-6 py-3.5 bg-white text-emerald-700 rounded-xl font-semibold hover:bg-gray-100 transition-all"
              >
                Search
              </button>
            </div>

            <div class="flex items-center gap-4 mt-4">
              <div class="flex-1 h-px bg-white/30"></div>
              <span class="text-sm opacity-80">or</span>
              <div class="flex-1 h-px bg-white/30"></div>
            </div>

            <div class="mt-4 flex gap-3">
              <div class="flex-1 relative">
                <input
                  type="text"
                  id="barcode-input"
                  placeholder="Enter barcode number (e.g., 7613034626844)"
                  class="w-full px-5 py-3.5 pr-12 bg-white/90 backdrop-blur-sm text-gray-900 rounded-xl placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white/50"
                />
                <i
                  class="fa-solid fa-barcode absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                ></i>
              </div>
              <button
                id="lookup-barcode-btn"
                class="px-6 py-3.5 bg-amber-500 text-white rounded-xl font-semibold hover:bg-amber-600 transition-all"
              >
                <i class="fa-solid fa-search mr-2"></i>Lookup
              </button>
            </div>
          </div>

          <!-- Nutrition Grade Filter -->
          <div class="flex items-center gap-4 mb-6">
            <span class="text-sm font-medium text-gray-700"
              >Filter by Nutri-Score:</span
            >
            <div class="flex gap-2" id="filterScannerByLetter">
              <button
                class="nutri-score-filter px-4 py-2 rounded-lg text-sm font-bold transition-all bg-emerald-600 text-white"
                data-grade=""
              >
                All
              </button>
              <button
                class="nutri-score-filter px-4 py-2 rounded-lg text-sm font-bold transition-all bg-green-100 text-green-700 hover:bg-green-200"
                data-grade="a"
              >
                A
              </button>
              <button
                class="nutri-score-filter px-4 py-2 rounded-lg text-sm font-bold transition-all bg-lime-100 text-lime-700 hover:bg-lime-200"
                data-grade="b"
              >
                B
              </button>
              <button
                class="nutri-score-filter px-4 py-2 rounded-lg text-sm font-bold transition-all bg-yellow-100 text-yellow-700 hover:bg-yellow-200"
                data-grade="c"
              >
                C
              </button>
              <button
                class="nutri-score-filter px-4 py-2 rounded-lg text-sm font-bold transition-all bg-orange-100 text-orange-700 hover:bg-orange-200"
                data-grade="d"
              >
                D
              </button>
              <button
                class="nutri-score-filter px-4 py-2 rounded-lg text-sm font-bold transition-all bg-red-100 text-red-700 hover:bg-red-200"
                data-grade="e"
              >
                E
              </button>
            </div>
          </div>

          <!-- Category Buttons -->
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-3">
              Browse by Category
            </h3>
            <div
              class="flex gap-3 overflow-x-auto pb-2"
              id="product-categories"
            >
              <!-- Get Category buttons from JS -->
            </div>
          </div>

          <!-- Products Grid -->
          <div class="mb-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-xl font-bold text-gray-900">Search Results</h3>
              <p id="products-count" class="text-sm text-gray-600">
                Search for products to see results
              </p>
            </div>

            <div
              id="products-grid"
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"
            >
              <!-- Card Example -->
            </div>
          </div>
        </div>
      </section>

      <!-- ============= FOOD LOG SECTION ============= -->
      <section id="foodlog-section"
        class="px-8 py-8 bg-gray-50 min-h-screen"
        data-section="foodlog"
      >
        <div class="max-w-7xl mx-auto">
          <!-- Page Header -->
          <div
            class="bg-linear-to-r from-indigo-600 to-purple-600 rounded-2xl p-6 mb-6 text-white"
          >
            <div class="flex items-center justify-between">
              <div>
                <h2 class="text-2xl font-bold mb-2">
                  <i class="fa-solid fa-clipboard-list mr-2"></i>
                  Daily Food Log
                </h2>
                <p class="opacity-90">
                  Track and monitor your daily nutrition intake
                </p>
              </div>
              <div class="text-right">
                <p class="text-sm opacity-80">Today</p>
                <p class="text-xl font-bold" id="foodlog-date">
                  Tuesday, Jan 14
                </p>
              </div>
            </div>
          </div>

          <!-- Today's Summary with Progress -->
          <div
            id="foodlog-today-section"
            class="bg-white rounded-2xl p-6 mb-6 border-2 border-gray-200"
          >
            <h3 class="text-lg font-bold text-gray-900 mb-4">
              <i class="fa-solid fa-fire text-orange-500 mr-2"></i>
              Today's Nutrition
            </h3>

            <!-- Progress Bars -->
            <div
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"
            >
              <!-- Calories Progress -->
              <div class="bg-emerald-50 rounded-xl p-4">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-semibold text-gray-700"
                    >Calories</span
                  >
                  <span class="text-sm text-gray-500"
                    ><span id="totalCaloriesScanner">0</span> / 2000 kcal</span
                  >
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-emerald-500 h-2.5 rounded-full"
                    style="width: 0%"
                    id="totalCaloriesProgressBar"
                  ></div>
                </div>
              </div>
              <!-- Protein Progress -->
              <div class="bg-blue-50 rounded-xl p-4">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-semibold text-gray-700"
                    >Protein</span
                  >
                  <span class="text-sm text-gray-500"
                    ><span id="totalProtein">0</span> / 50 g</span
                  >
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-blue-500 h-2.5 rounded-full"
                    style="width: 0%"
                    id="totalProteinProgressBar"
                  ></div>
                </div>
              </div>
              <!-- Carbs Progress -->
              <div class="bg-amber-50 rounded-xl p-4">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-semibold text-gray-700">Carbs</span>
                  <span class="text-sm text-gray-500"
                    ><span id="totalCarbs">0</span> / 250 g</span
                  >
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-amber-500 h-2.5 rounded-full"
                    style="width: 0%"
                    id="totalCarbsProgressBar"
                  ></div>
                </div>
              </div>
              <!-- Fat Progress -->
              <div class="bg-purple-50 rounded-xl p-4">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm font-semibold text-gray-700">Fat</span>
                  <span class="text-sm text-gray-500"
                    ><span id="totalFat">0</span> / 65 g</span
                  >
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div
                    class="bg-purple-500 h-2.5 rounded-full"
                    style="width: 0%"
                    id="totalFatProgressBar"
                  ></div>
                </div>
              </div>
            </div>

            <!-- Logged Items -->
            <div class="border-t border-gray-200 pt-4">
              <div class="flex items-center justify-between mb-3">
                <h4 class="text-sm font-semibold text-gray-700">
                  Logged Items (<span id="countLogItems">0</span>)
                </h4>
                <button
                  id="clear-foodlog"
                  class="text-red-500 hover:text-red-600 text-sm font-medium"
                  style="display: none"
                >
                  <i class="fa-solid fa-trash mr-1"></i>Clear All
                </button>
              </div>

              <div class="text-center py-2">
                <div class="mainContainer">
                  <div
                    class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"
                  >
                    <i class="text-3xl text-gray-300" data-fa-i2svg=""
                      ><svg
                        class="svg-inline--fa fa-utensils"
                        data-prefix="fas"
                        data-icon="utensils"
                        role="img"
                        viewBox="0 0 512 512"
                        aria-hidden="true"
                        data-fa-i2svg=""
                      >
                        <path
                          fill="currentColor"
                          d="M63.9 14.4C63.1 6.2 56.2 0 48 0s-15.1 6.2-16 14.3L17.9 149.7c-1.3 6-1.9 12.1-1.9 18.2 0 45.9 35.1 83.6 80 87.7L96 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224.4c44.9-4.1 80-41.8 80-87.7 0-6.1-.6-12.2-1.9-18.2L223.9 14.3C223.1 6.2 216.2 0 208 0s-15.1 6.2-15.9 14.4L178.5 149.9c-.6 5.7-5.4 10.1-11.1 10.1-5.8 0-10.6-4.4-11.2-10.2L143.9 14.6C143.2 6.3 136.3 0 128 0s-15.2 6.3-15.9 14.6L99.8 149.8c-.5 5.8-5.4 10.2-11.2 10.2-5.8 0-10.6-4.4-11.1-10.1L63.9 14.4zM448 0C432 0 320 32 320 176l0 112c0 35.3 28.7 64 64 64l32 0 0 128c0 17.7 14.3 32 32 32s32-14.3 32-32l0-448c0-17.7-14.3-32-32-32z"
                        ></path></svg
                    ></i>
                  </div>
                  <p class="text-gray-500 font-medium mb-2">
                    No food logged today
                  </p>
                  <p class="text-gray-400 text-sm mb-4">
                    Start tracking your nutrition by logging meals or scanning
                    products
                  </p>
                  <div class="flex justify-center gap-3">
                    <button
                      id="addRecipeFromBrowse"
                      class="inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-all"
                    >
                      <i data-fa-i2svg=""
                        ><svg
                          class="svg-inline--fa fa-plus"
                          data-prefix="fas"
                          data-icon="plus"
                          role="img"
                          viewBox="0 0 448 512"
                          aria-hidden="true"
                          data-fa-i2svg=""
                        >
                          <path
                            fill="currentColor"
                            d="M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"
                          ></path></svg
                      ></i>
                      Browse Recipes
                    </button>
                    <button
                      id="addRecipeFromScanner"
                      class="nav-link inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all"
                    >
                      <i data-fa-i2svg=""
                        ><svg
                          class="svg-inline--fa fa-barcode"
                          data-prefix="fas"
                          data-icon="barcode"
                          role="img"
                          viewBox="0 0 448 512"
                          aria-hidden="true"
                          data-fa-i2svg=""
                        >
                          <path
                            fill="currentColor"
                            d="M32 32C14.3 32 0 46.3 0 64L0 448c0 17.7 14.3 32 32 32s32-14.3 32-32L64 64c0-17.7-14.3-32-32-32zm88 0c-13.3 0-24 10.7-24 24l0 400c0 13.3 10.7 24 24 24s24-10.7 24-24l0-400c0-13.3-10.7-24-24-24zm72 32l0 384c0 17.7 14.3 32 32 32s32-14.3 32-32l0-384c0-17.7-14.3-32-32-32s-32 14.3-32 32zm208-8l0 400c0 13.3 10.7 24 24 24s24-10.7 24-24l0-400c0-13.3-10.7-24-24-24s-24 10.7-24 24zm-96 0l0 400c0 13.3 10.7 24 24 24s24-10.7 24-24l0-400c0-13.3-10.7-24-24-24s-24 10.7-24 24z"
                          ></path></svg
                      ></i>
                      Scan Product
                    </button>
                  </div>
                </div>
                <div id="foodLogContainer" class="loading"></div>
              </div>
            </div>
          </div>

          <!-- Weekly Overview -->
          <div class="bg-white rounded-2xl p-6 mb-6 border-2 border-gray-200">
            <h3 class="text-lg font-bold text-gray-900 mb-4">
              <i class="mr-2 text-indigo-500" data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-calendar-week"
                  data-prefix="fas"
                  data-icon="calendar-week"
                  role="img"
                  viewBox="0 0 448 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zm0 256c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l192 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-192 0z"
                  ></path></svg
              ></i>
              Weekly Overview
            </h3>

            <div
              class="grid grid-cols-7 gap-2"
              id="WeeklyOverview"
              style="margin-bottom: 20px"
            >
              <div class="text-center">
                <p class="text-xs text-gray-500 mb-1 day_7_Name">Thu</p>
                <p class="text-sm font-medium text-gray-900 day_7_date_num">
                  15
                </p>
                <div class="mt-2 text-gray-300">
                  <p class="text-lg font-bold day_7_date_Cal_Value">0</p>
                  <p class="text-xs">kcal</p>
                </div>
                <p class="text-xs text-gray-400 mt-1 countOfItemsDay7">
                  1 items
                </p>
              </div>
              <div class="text-center">
                <p class="text-xs text-gray-500 mb-1 day_6_Name">Thu</p>
                <p class="text-sm font-medium text-gray-900 day_6_date_num">
                  15
                </p>
                <div class="mt-2 text-gray-300">
                  <p class="text-lg font-bold day_6_date_Cal_Value">0</p>
                  <p class="text-xs">kcal</p>
                </div>
                <p class="text-xs text-gray-400 mt-1 countOfItemsDay6">
                  1 items
                </p>
              </div>
              <div class="text-center">
                <p class="text-xs text-gray-500 mb-1 day_5_Name">Thu</p>
                <p class="text-sm font-medium text-gray-900 day_5_date_num">
                  15
                </p>
                <div class="mt-2 text-gray-300">
                  <p class="text-lg font-bold day_5_date_Cal_Value">0</p>
                  <p class="text-xs">kcal</p>
                </div>
                <p class="text-xs text-gray-400 mt-1 countOfItemsDay5">
                  1 items
                </p>
              </div>
              <div class="text-center">
                <p class="text-xs text-gray-500 mb-1 day_4_Name">Thu</p>
                <p class="text-sm font-medium text-gray-900 day_4_date_num">
                  15
                </p>
                <div class="mt-2 text-gray-300">
                  <p class="text-lg font-bold day_4_date_Cal_Value">0</p>
                  <p class="text-xs">kcal</p>
                </div>
                <p class="text-xs text-gray-400 mt-1 countOfItemsDay4">
                  1 items
                </p>
              </div>
              <div class="text-center">
                <p class="text-xs text-gray-500 mb-1 day_3_Name">Thu</p>
                <p class="text-sm font-medium text-gray-900 day_3_date_num">
                  15
                </p>
                <div class="mt-2 text-gray-300">
                  <p class="text-lg font-bold day_3_date_Cal_Value">0</p>
                  <p class="text-xs">kcal</p>
                </div>
                <p class="text-xs text-gray-400 mt-1 countOfItemsDay3">
                  1 items
                </p>
              </div>
              <div class="text-center">
                <p class="text-xs text-gray-500 mb-1 day_2_Name">Thu</p>
                <p class="text-sm font-medium text-gray-900 day_2_date_num">
                  15
                </p>
                <div class="mt-2 text-gray-300">
                  <p class="text-lg font-bold day_2_date_Cal_Value">0</p>
                  <p class="text-xs">kcal</p>
                </div>
                <p class="text-xs text-gray-400 mt-1 countOfItemsDay2">
                  1 items
                </p>
              </div>

              <div class="text-center bg-indigo-100 rounded-xl">
                <p class="text-xs text-gray-500 mb-1 day_1_Name">Wed</p>
                <p class="text-sm font-medium text-gray-900 day_1_date_num">
                  21
                </p>
                <div class="mt-2 text-gray-300">
                  <p class="text-lg font-bold day_1_date_Cal_Value">0</p>
                  <p class="text-xs">kcal</p>
                </div>
                <p class="text-xs text-gray-400 mt-1 countOfItemsDay1">
                  1 items
                </p>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <div class="bg-white rounded-xl p-4 border-2 border-gray-200">
              <div class="flex items-center gap-3">
                <div
                  class="w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center"
                >
                  <i class="text-emerald-600 text-xl" data-fa-i2svg=""
                    ><svg
                      class="svg-inline--fa fa-chart-line"
                      data-prefix="fas"
                      data-icon="chart-line"
                      role="img"
                      viewBox="0 0 512 512"
                      aria-hidden="true"
                      data-fa-i2svg=""
                    >
                      <path
                        fill="currentColor"
                        d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"
                      ></path></svg
                  ></i>
                </div>
                <div>
                  <p class="text-sm text-gray-500">Weekly Average</p>
                  <p class="text-xl font-bold text-gray-900">
                    <span id="WeeklyAverage">286</span> kcal
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl p-4 border-2 border-gray-200">
              <div class="flex items-center gap-3">
                <div
                  class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center"
                >
                  <i class="text-blue-600 text-xl" data-fa-i2svg=""
                    ><svg
                      class="svg-inline--fa fa-utensils"
                      data-prefix="fas"
                      data-icon="utensils"
                      role="img"
                      viewBox="0 0 512 512"
                      aria-hidden="true"
                      data-fa-i2svg=""
                    >
                      <path
                        fill="currentColor"
                        d="M63.9 14.4C63.1 6.2 56.2 0 48 0s-15.1 6.2-16 14.3L17.9 149.7c-1.3 6-1.9 12.1-1.9 18.2 0 45.9 35.1 83.6 80 87.7L96 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224.4c44.9-4.1 80-41.8 80-87.7 0-6.1-.6-12.2-1.9-18.2L223.9 14.3C223.1 6.2 216.2 0 208 0s-15.1 6.2-15.9 14.4L178.5 149.9c-.6 5.7-5.4 10.1-11.1 10.1-5.8 0-10.6-4.4-11.2-10.2L143.9 14.6C143.2 6.3 136.3 0 128 0s-15.2 6.3-15.9 14.6L99.8 149.8c-.5 5.8-5.4 10.2-11.2 10.2-5.8 0-10.6-4.4-11.1-10.1L63.9 14.4zM448 0C432 0 320 32 320 176l0 112c0 35.3 28.7 64 64 64l32 0 0 128c0 17.7 14.3 32 32 32s32-14.3 32-32l0-448c0-17.7-14.3-32-32-32z"
                      ></path></svg
                  ></i>
                </div>
                <div>
                  <p class="text-sm text-gray-500">Total Items This Week</p>
                  <p class="text-xl font-bold text-gray-900">
                    <span id="TotalItemsThisWeek">3</span> items
                  </p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl p-4 border-2 border-gray-200">
              <div class="flex items-center gap-3">
                <div
                  class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center"
                >
                  <i class="text-purple-600 text-xl" data-fa-i2svg=""
                    ><svg
                      class="svg-inline--fa fa-bullseye"
                      data-prefix="fas"
                      data-icon="bullseye"
                      role="img"
                      viewBox="0 0 512 512"
                      aria-hidden="true"
                      data-fa-i2svg=""
                    >
                      <path
                        fill="currentColor"
                        d="M448 256a192 192 0 1 0 -384 0 192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"
                      ></path></svg
                  ></i>
                </div>
                <div>
                  <p class="text-sm text-gray-500">Days On Goal</p>
                  <p class="text-xl font-bold text-gray-900">
                    <span id="DaysOnGoal">0</span> / 7
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Model Save To Log  -->
    <div
      class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"
      id="log-meal-modal"
      style="display: none"
    >
      <div class="bg-white rounded-2xl p-6 max-w-md w-full mx-4">
        <div class="flex items-center gap-4 mb-6">
          <img
            src="https://www.themealdb.com/images/media/meals/wyxwsp1486979827.jpg"
            alt="Chicken Handi"
            class="w-16 h-16 rounded-xl object-cover mealImage"
          />
          <div>
            <h3 class="text-xl font-bold text-gray-900">Log This Meal</h3>
            <p class="text-gray-500 text-sm mealname">Chicken Handi</p>
          </div>
        </div>

        <div class="mb-6">
          <label class="block text-sm font-semibold text-gray-700 mb-2"
            >Number of Servings</label
          >
          <div class="flex items-center gap-3">
            <button
              id="decrease-servings"
              class="w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center"
            >
              <i class="text-gray-600" data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-minus"
                  data-prefix="fas"
                  data-icon="minus"
                  role="img"
                  viewBox="0 0 448 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"
                  ></path></svg
              ></i>
            </button>
            <input
              type="number"
              id="meal-servings"
              value="1"
              min="0.5"
              max="10"
              step="0.5"
              class="w-20 text-center text-xl font-bold border-2 border-gray-200 rounded-lg py-2"
            />
            <button
              id="increase-servings"
              class="w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center"
            >
              <i class="text-gray-600" data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-plus"
                  data-prefix="fas"
                  data-icon="plus"
                  role="img"
                  viewBox="0 0 448 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"
                  ></path></svg
              ></i>
            </button>
          </div>
        </div>

        <div class="bg-emerald-50 rounded-xl p-4 mb-6">
          <p class="text-sm text-gray-600 mb-2">
            Estimated nutrition per serving:
          </p>
          <div class="grid grid-cols-4 gap-2 text-center">
            <div>
              <p class="text-lg font-bold text-emerald-600" id="modal-calories">
                1564
              </p>
              <p class="text-xs text-gray-500">Calories</p>
            </div>
            <div>
              <p class="text-lg font-bold text-blue-600" id="modal-protein">
                95g
              </p>
              <p class="text-xs text-gray-500">Protein</p>
            </div>
            <div>
              <p class="text-lg font-bold text-amber-600" id="modal-carbs">
                107g
              </p>
              <p class="text-xs text-gray-500">Carbs</p>
            </div>
            <div>
              <p class="text-lg font-bold text-purple-600" id="modal-fat">
                149g
              </p>
              <p class="text-xs text-gray-500">Fat</p>
            </div>
          </div>
        </div>

        <div class="flex gap-3">
          <button
            id="cancel-log-meal"
            class="flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all"
          >
            Cancel
          </button>
          <button
            id="confirm-log-meal"
            class="flex-1 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-all"
          >
            <i class="mr-2" data-fa-i2svg=""
              ><svg
                class="svg-inline--fa fa-clipboard-list"
                data-prefix="fas"
                data-icon="clipboard-list"
                role="img"
                viewBox="0 0 384 512"
                aria-hidden="true"
                data-fa-i2svg=""
              >
                <path
                  fill="currentColor"
                  d="M311.4 32l8.6 0c35.3 0 64 28.7 64 64l0 352c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l8.6 0C83.6 12.9 104.3 0 128 0L256 0c23.7 0 44.4 12.9 55.4 32zM248 112c13.3 0 24-10.7 24-24s-10.7-24-24-24L136 64c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0zM128 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm32 0c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zm0 128c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0c-13.3 0-24 10.7-24 24zM96 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"
                ></path></svg
            ></i>
            Log Meal
          </button>
        </div>
      </div>
    </div>

    <!-- Model in Product Scanner -->

    <div
      class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"
      id="product-detail-modal"
      style="display: none"
    >
      <div
        class="bg-white rounded-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto containerOfModel"
      >
        <div class="p-6">
          <!-- Header -->
          <div class="flex items-start gap-6 mb-6">
            <div
              class="w-32 h-32 bg-gray-100 rounded-xl flex items-center justify-center overflow-hidden flex-shrink-0"
            >
              <img
                id="image_model"
                src="https://images.openfoodfacts.org/images/products/301/762/042/5035/front_en.583.400.jpg"
                alt="Nutella"
                class="w-full h-full object-contain"
              />
            </div>
            <div class="flex-1">
              <p
                class="text-sm text-emerald-600 font-semibold mb-1"
                id="brand_model"
              >
                Ferrero
              </p>
              <h2 class="text-2xl font-bold text-gray-900 mb-2" id="name_model">
                Nutella
              </h2>
              <p class="text-sm text-gray-500 mb-3" id="weight_model">1 kg</p>

              <div class="flex items-center gap-3">
                <div
                  class="flex items-center gap-2 px-3 py-1.5 rounded-lg"
                  style="background-color: #e63e1120"
                  id="Nutri_Score_model_State"
                >
                  <span
                    class="w-8 h-8 rounded flex items-center justify-center text-white font-bold"
                    style="background-color: #e63e11"
                    id="Nutri_Score_value"
                  >
                    E
                  </span>
                  <div>
                    <p
                      class="text-xs font-bold"
                      style="color: #e63e11"
                      id="Nutri_Score_sColor2"
                    >
                      Nutri-Score
                    </p>
                    <p class="text-[10px] text-gray-600" id="Nutri_model_State">
                      Bad
                    </p>
                  </div>
                </div>

                <div
                  class="flex items-center gap-2 px-3 py-1.5 rounded-lg"
                  style="background-color: #e63e1120"
                  id="NOVA_Score_model_State"
                >
                  <span
                    class="w-8 h-8 rounded-full flex items-center justify-center text-white font-bold"
                    style="background-color: #e63e11"
                    id="NOVA_Score_value"
                  >
                    4
                  </span>
                  <div>
                    <p
                      class="text-xs font-bold"
                      style="color: #e63e11"
                      id="NOVA_Score_sColor2"
                    >
                      NOVA
                    </p>
                    <p class="text-[10px] text-gray-600" id="NOVA_model_State">
                      Ultra-processed
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <button
              class="close-product-modal text-gray-400 hover:text-gray-600"
            >
              <i class="text-2xl" data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-xmark"
                  data-prefix="fas"
                  data-icon="xmark"
                  role="img"
                  viewBox="0 0 384 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"
                  ></path></svg
              ></i>
            </button>
          </div>

          <!-- Nutrition Facts -->
          <div
            class="bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-5 mb-6 border border-emerald-200"
          >
            <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
              <i class="text-emerald-600" data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-chart-pie"
                  data-prefix="fas"
                  data-icon="chart-pie"
                  role="img"
                  viewBox="0 0 576 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M512.4 240l-176 0c-17.7 0-32-14.3-32-32l0-176c0-17.7 14.4-32.2 31.9-29.9 107 14.2 191.8 99 206 206 2.3 17.5-12.2 31.9-29.9 31.9zM222.6 37.2c18.1-3.8 33.8 11 33.8 29.5l0 197.3c0 5.6 2 11 5.5 15.3L394 438.7c11.7 14.1 9.2 35.4-6.9 44.1-34.1 18.6-73.2 29.2-114.7 29.2-132.5 0-240-107.5-240-240 0-115.5 81.5-211.9 190.2-234.8zM477.8 288l64 0c18.5 0 33.3 15.7 29.5 33.8-10.2 48.4-35 91.4-69.6 124.2-12.3 11.7-31.6 9.2-42.4-3.9L374.9 340.4c-17.3-20.9-2.4-52.4 24.6-52.4l78.2 0z"
                  ></path></svg
              ></i>
              Nutrition Facts
              <span class="text-sm font-normal text-gray-500">(per 100g)</span>
            </h3>

            <div class="text-center mb-4 pb-4 border-b border-emerald-200">
              <p class="text-4xl font-bold text-gray-900" id="model_Calories">
                539
              </p>
              <p class="text-sm text-gray-500">Calories</p>
            </div>

            <div class="grid grid-cols-4 gap-4">
              <div class="text-center">
                <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                  <div
                    class="bg-emerald-500 h-2 rounded-full"
                    style="width: 12.6%"
                    id="ProteinProgessBar"
                  ></div>
                </div>
                <p id="modelProtein" class="text-lg font-bold text-emerald-600">
                  6.3g
                </p>
                <p class="text-xs text-gray-500">Protein</p>
              </div>
              <div class="text-center">
                <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                  <div
                    class="bg-blue-500 h-2 rounded-full"
                    style="width: 57.49999999999999%"
                    id="CarbsProgessBar"
                  ></div>
                </div>
                <p class="text-lg font-bold text-blue-600" id="model_Carbs">
                  57.5g
                </p>
                <p class="text-xs text-gray-500">Carbs</p>
              </div>
              <div class="text-center">
                <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                  <div
                    class="bg-purple-500 h-2 rounded-full"
                    style="width: 47.53846153846153%"
                    id="FatProgessBar"
                  ></div>
                </div>
                <p class="text-lg font-bold text-purple-600" id="model_Fat">
                  30.9g
                </p>
                <p class="text-xs text-gray-500">Fat</p>
              </div>
              <div class="text-center">
                <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                  <div
                    class="bg-orange-500 h-2 rounded-full"
                    style="width: 100%"
                    id="SugarProgessBar"
                  ></div>
                </div>
                <p class="text-lg font-bold text-orange-600" id="model_Suger">
                  56.3g
                </p>
                <p class="text-xs text-gray-500">Sugar</p>
              </div>
            </div>
          </div>

          <!-- Additional Info -->

          <!-- <div class="bg-gray-50 rounded-xl p-5 mb-6">
            <h3 class="font-bold text-gray-900 mb-3 flex items-center gap-2">
              <i class="text-gray-600" data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-list"
                  data-prefix="fas"
                  data-icon="list"
                  role="img"
                  viewBox="0 0 512 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"
                  ></path></svg
              ></i>
              Ingredients
            </h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Sucre, huile de palme, NOISETTES 13%, LAIT Ã©crÃ©mÃ© en poudre 8,7%,
              cacao maigre 7,4%, Ã©mulsifiants: lÃ©cithines [SOJA]; vanilline.
              Sans gluten
            </p>
          </div>

          <div class="bg-red-50 rounded-xl p-5 mb-6 border border-red-200">
            <h3 class="font-bold text-red-700 mb-2 flex items-center gap-2">
              <i data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-triangle-exclamation"
                  data-prefix="fas"
                  data-icon="triangle-exclamation"
                  role="img"
                  viewBox="0 0 512 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"
                  ></path></svg
              ></i>
              Allergens
            </h3>
            <p class="text-sm text-red-600">en:milk,en:nuts,en:soybeans</p>
          </div> -->

          <!-- Actions -->
          <div class="flex gap-3">
            <button
              class="add-product-to-log flex-1 py-3 bg-emerald-600 text-white rounded-xl font-semibold hover:bg-emerald-700 transition-all"
              id="logFoodModel"
              data-barcode="3017620425035"
            >
              <i class="mr-2" data-fa-i2svg=""
                ><svg
                  class="svg-inline--fa fa-plus"
                  data-prefix="fas"
                  data-icon="plus"
                  role="img"
                  viewBox="0 0 448 512"
                  aria-hidden="true"
                  data-fa-i2svg=""
                >
                  <path
                    fill="currentColor"
                    d="M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"
                  ></path></svg></i
              >Log This Food
            </button>
            <button
              class="close-product-modal flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      window.FontAwesomeConfig = { autoReplaceSvg: "nest" };
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/js/all.min.js"
      integrity="sha512-6BTOlkauINO65nLhXhthZMtepgJSghyimIalb+crKRPhvhmsCdnIuGcVbR5/aQY2A+260iC1OPy1oCdB6pSSwQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.plot.ly/plotly-3.1.1.min.js"></script>

    <!-- Main JavaScript Entry Point -->
    <script type="module" src="./src/js/main.js"></script>
  </body>
</html>
